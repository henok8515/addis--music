{"ast":null,"code":"import _objectWithoutProperties from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _taggedTemplateLiteral from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _excluded=[\"_id\"];var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from\"react\";import{css}from\"@emotion/css\";import Card from\"./Card\";import axios from\"axios\";import{Button,TextField,Typography}from\"@mui/material\";import{AiOutlinePlusCircle}from\"react-icons/ai\";import{useSelector,useDispatch}from\"react-redux\";import{getMusicFetch}from\"../features/music/musicSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewMusic(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),creteMode=_useState2[0],setCreateMode=_useState2[1];var _useState3=useState({title:\"\",artist:\"\",genre:\"\",album:\"\"}),_useState4=_slicedToArray(_useState3,2),addMusic=_useState4[0],setAddMusic=_useState4[1];var handleChange=function handleChange(e){setAddMusic(_objectSpread(_objectSpread({},addMusic),{},_defineProperty({},e.target.name,e.target.value)));};var dispatch=useDispatch();var music=useSelector(function(state){return state.music.music;});useEffect(function(){dispatch(getMusicFetch());// eslint-disable-next-line react-hooks/exhaustive-deps\n},[music]);var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post();console.log(addMusic);setAddMusic(_objectSpread(_objectSpread({},addMusic),{},{title:\"\",artist:\"\",genre:\"\",album:\"\"}));axios.post(\"http://localhost:5000/create\",{title:addMusic.title,artist:addMusic.artist,genre:addMusic.genre,album:addMusic.album}).then(function(res){return console.log(res.data);}).catch(function(err){return console.log(err.response.data);});setCreateMode(false);};return/*#__PURE__*/_jsxs(\"div\",{className:css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n        display: flex;\\n        flex-wrap: wrap;\\n        justify-content: center; ;\\n      \"]))),children:[music.map(function(_ref){var _id=_ref._id,others=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/_jsx(Card,_objectSpread({setAddMusic:setAddMusic,addMusic:addMusic,id:_id},others),_id);}),/*#__PURE__*/_jsx(\"div\",{className:css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n          margin: 10px 10px;\\n          height: 300px;\\n          width: 200px;\\n          border-radius: 10px;\\n          border: 1px solid black;\\n          display: flex;\\n          align-items: center;\\n          justify-content: space-evenly;\\n          padding: 10px;\\n          flex-direction: column;\\n          -webkit-box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\\n          -moz-box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\\n          box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\\n          transition: all 1s ease-in-out;\\n        \"]))),children:creteMode?/*#__PURE__*/_jsxs(\"form\",{className:css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n              display: flex;\\n              flex-direction: column;\\n              justify-content: space-between;\\n              align-items: center; ;\\n            \"]))),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Create Music\"}),/*#__PURE__*/_jsx(TextField,{name:\"title\",onChange:handleChange,required:true,type:\"text\",placeholder:\"Title\",value:addMusic.title}),/*#__PURE__*/_jsx(TextField,{name:\"artist\",onChange:handleChange,type:\"text\",required:true,placeholder:\"Artist\",value:addMusic.artist}),/*#__PURE__*/_jsx(TextField,{name:\"album\",onChange:handleChange,type:\"text\",required:true,placeholder:\"Album\",value:addMusic.album}),/*#__PURE__*/_jsx(TextField,{name:\"genre\",onChange:handleChange,required:true,placeholder:\"Genre\",value:addMusic.genre}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Create\"})]}):/*#__PURE__*/_jsx(\"div\",{className:css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n              display: flex;\\n              justify-content: center;\\n              align-items: center;\\n              cursor: pointer;\\n            \"]))),children:/*#__PURE__*/_jsx(AiOutlinePlusCircle,{onClick:setCreateMode(true),size:100})})})]});}export default NewMusic;","map":{"version":3,"names":["React","useEffect","useState","css","Card","axios","Button","TextField","Typography","AiOutlinePlusCircle","useSelector","useDispatch","getMusicFetch","jsx","_jsx","jsxs","_jsxs","NewMusic","_useState","_useState2","_slicedToArray","creteMode","setCreateMode","_useState3","title","artist","genre","album","_useState4","addMusic","setAddMusic","handleChange","e","_objectSpread","_defineProperty","target","name","value","dispatch","music","state","handleSubmit","preventDefault","post","console","log","then","res","data","catch","err","response","className","_templateObject","_taggedTemplateLiteral","children","map","_ref","_id","others","_objectWithoutProperties","_excluded","id","_templateObject2","_templateObject3","onSubmit","variant","onChange","required","type","placeholder","_templateObject4","onClick","size"],"sources":["/home/henok/projects/addis-music/client/src/components/NewMusic.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { css } from \"@emotion/css\";\nimport Card from \"./Card\";\nimport axios from \"axios\";\nimport { Button, TextField, Typography } from \"@mui/material\";\nimport { AiOutlinePlusCircle } from \"react-icons/ai\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getMusicFetch } from \"../features/music/musicSlice\";\n\nfunction NewMusic() {\n  const [creteMode, setCreateMode] = useState(false);\n  const [addMusic, setAddMusic] = useState({\n    title: \"\",\n    artist: \"\",\n    genre: \"\",\n    album: \"\",\n  });\n\n  const handleChange = (e) => {\n    setAddMusic({\n      ...addMusic,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const dispatch = useDispatch();\n  const music = useSelector((state) => state.music.music);\n\n  useEffect(() => {\n    dispatch(getMusicFetch());\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [music]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios.post();\n    console.log(addMusic);\n    setAddMusic({\n      ...addMusic,\n      title: \"\",\n      artist: \"\",\n      genre: \"\",\n      album: \"\",\n    });\n\n    axios\n      .post(\"http://localhost:5000/create\", {\n        title: addMusic.title,\n        artist: addMusic.artist,\n        genre: addMusic.genre,\n        album: addMusic.album,\n      })\n      .then((res) => console.log(res.data))\n      .catch((err) => console.log(err.response.data));\n    setCreateMode(false);\n  };\n  return (\n    <div\n      className={css`\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center; ;\n      `}\n    >\n      {music.map(({ _id, ...others }) => (\n        <Card\n          setAddMusic={setAddMusic}\n          addMusic={addMusic}\n          id={_id}\n          key={_id}\n          {...others}\n        />\n      ))}\n      <div\n        className={css`\n          margin: 10px 10px;\n          height: 300px;\n          width: 200px;\n          border-radius: 10px;\n          border: 1px solid black;\n          display: flex;\n          align-items: center;\n          justify-content: space-evenly;\n          padding: 10px;\n          flex-direction: column;\n          -webkit-box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\n          -moz-box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\n          box-shadow: 10px -4px 18px 4px rgba(0, 0, 0, 0.75);\n          transition: all 1s ease-in-out;\n        `}\n      >\n        {creteMode ? (\n          <form\n            className={css`\n              display: flex;\n              flex-direction: column;\n              justify-content: space-between;\n              align-items: center; ;\n            `}\n            onSubmit={handleSubmit}\n          >\n            <Typography variant=\"h5\">Create Music</Typography>\n            <TextField\n              name=\"title\"\n              onChange={handleChange}\n              required\n              type=\"text\"\n              placeholder=\"Title\"\n              value={addMusic.title}\n            />\n            <TextField\n              name=\"artist\"\n              onChange={handleChange}\n              type=\"text\"\n              required\n              placeholder=\"Artist\"\n              value={addMusic.artist}\n            />\n            <TextField\n              name=\"album\"\n              onChange={handleChange}\n              type=\"text\"\n              required\n              placeholder=\"Album\"\n              value={addMusic.album}\n            />\n            <TextField\n              name=\"genre\"\n              onChange={handleChange}\n              required\n              placeholder=\"Genre\"\n              value={addMusic.genre}\n            />\n            <Button type=\"submit\">Create</Button>\n          </form>\n        ) : (\n          <div\n            className={css`\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              cursor: pointer;\n            `}\n          >\n            <AiOutlinePlusCircle onClick={setCreateMode(true)} size={100} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default NewMusic;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}