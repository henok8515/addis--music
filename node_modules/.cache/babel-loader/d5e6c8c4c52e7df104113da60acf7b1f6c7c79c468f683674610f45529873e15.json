{"ast":null,"code":"import _regeneratorRuntime from\"/home/henok/projects/addis-music/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(getFetchedMusic),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(deleteMusicByIdSaga),_marked3=/*#__PURE__*/_regeneratorRuntime().mark(updateMusic),_marked4=/*#__PURE__*/_regeneratorRuntime().mark(musicSaga);import{call,put,takeEvery}from\"redux-saga/effects\";import{deleteMusicByIdAPI,updateMusicAPI}from\"../../api\";import{getMusicSuccess,deleteMusicSlice,editMusicSlice}from\"../../features/music/musicSlice\";import{DELETE_MUSIC,GET_MUSIC,UPDATE_MUSIC}from\"../../types\";function getFetchedMusic(){var music,formattedData;return _regeneratorRuntime().wrap(function getFetchedMusic$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return call(function(){return fetch(\"http://localhost:5000/\");});case 2:music=_context.sent;_context.next=5;return music.json();case 5:formattedData=_context.sent;_context.next=8;return put(getMusicSuccess(formattedData));case 8:case\"end\":return _context.stop();}},_marked);}export function deleteMusicByIdSaga(action){return _regeneratorRuntime().wrap(function deleteMusicByIdSaga$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(action.id,\"henio\");_context2.next=3;return deleteMusicByIdAPI(action.id);case 3:_context2.next=5;return put(deleteMusicSlice(action.id));case 5:case\"end\":return _context2.stop();}},_marked2);}export function updateMusic(action){return _regeneratorRuntime().wrap(function updateMusic$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updateMusicAPI(action.updatedMusic);case 2:_context3.next=4;return put(editMusicSlice(action.updatedMusic));case 4:case\"end\":return _context3.stop();}},_marked3);}function musicSaga(){return _regeneratorRuntime().wrap(function musicSaga$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(\"music/getMusicFetch\",getFetchedMusic);case 2:_context4.next=4;return takeEvery(GET_MUSIC,getFetchedMusic);case 4:_context4.next=6;return takeEvery(DELETE_MUSIC,deleteMusicByIdSaga);case 6:_context4.next=8;return takeEvery(UPDATE_MUSIC,updateMusic);case 8:case\"end\":return _context4.stop();}},_marked4);}export default musicSaga;","map":{"version":3,"names":["getFetchedMusic","_marked2","_regeneratorRuntime","mark","deleteMusicByIdSaga","_marked3","updateMusic","_marked4","musicSaga","call","put","takeEvery","deleteMusicByIdAPI","updateMusicAPI","getMusicSuccess","deleteMusicSlice","editMusicSlice","DELETE_MUSIC","GET_MUSIC","UPDATE_MUSIC","music","formattedData","wrap","getFetchedMusic$","_context","prev","next","fetch","sent","json","stop","_marked","action","deleteMusicByIdSaga$","_context2","console","log","id","updateMusic$","_context3","updatedMusic","musicSaga$","_context4"],"sources":["/home/henok/projects/addis-music/client/src/redux/saga/musicSaga.js"],"sourcesContent":["import { call, put, takeEvery } from \"redux-saga/effects\";\nimport { deleteMusicByIdAPI, updateMusicAPI } from \"../../api\";\nimport {\n  getMusicSuccess,\n  deleteMusicSlice,\n  editMusicSlice,\n} from \"../../features/music/musicSlice\";\nimport { DELETE_MUSIC, GET_MUSIC, UPDATE_MUSIC } from \"../../types\";\nfunction* getFetchedMusic() {\n  const music = yield call(() => fetch(\"http://localhost:5000/\"));\n  const formattedData = yield music.json();\n  yield put(getMusicSuccess(formattedData));\n}\nexport function* deleteMusicByIdSaga(action) {\n  console.log(action.id, \"henio\");\n  yield deleteMusicByIdAPI(action.id);\n  yield put(deleteMusicSlice(action.id));\n}\nexport function* updateMusic(action) {\n  yield updateMusicAPI(action.updatedMusic);\n  yield put(editMusicSlice(action.updatedMusic));\n}\nfunction* musicSaga() {\n  yield takeEvery(\"music/getMusicFetch\", getFetchedMusic);\n  yield takeEvery(GET_MUSIC, getFetchedMusic);\n  yield takeEvery(DELETE_MUSIC, deleteMusicByIdSaga);\n  yield takeEvery(UPDATE_MUSIC, updateMusic);\n}\nexport default musicSaga;\n"],"mappings":"2LAQUA,eAAe,EAAAC,QAAA,cAAAC,mBAAA,GAAAC,IAAA,CAKRC,mBAAmB,EAAAC,QAAA,cAAAH,mBAAA,GAAAC,IAAA,CAKnBG,WAAW,EAAAC,QAAA,cAAAL,mBAAA,GAAAC,IAAA,CAIlBK,SAAS,EAtBnB,OAASC,IAAI,CAAEC,GAAG,CAAEC,SAAS,KAAQ,oBAAoB,CACzD,OAASC,kBAAkB,CAAEC,cAAc,KAAQ,WAAW,CAC9D,OACEC,eAAe,CACfC,gBAAgB,CAChBC,cAAc,KACT,iCAAiC,CACxC,OAASC,YAAY,CAAEC,SAAS,CAAEC,YAAY,KAAQ,aAAa,CACnE,QAAU,CAAAnB,eAAeA,CAAA,MAAAoB,KAAA,CAAAC,aAAA,QAAAnB,mBAAA,GAAAoB,IAAA,UAAAC,iBAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,GACT,MAAM,CAAAjB,IAAI,CAAC,iBAAM,CAAAkB,KAAK,CAAC,wBAAwB,CAAC,GAAC,QAAzDP,KAAK,CAAAI,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,GACW,MAAM,CAAAN,KAAK,CAACS,IAAI,EAAE,QAAlCR,aAAa,CAAAG,QAAA,CAAAI,IAAA,CAAAJ,QAAA,CAAAE,IAAA,GACnB,MAAM,CAAAhB,GAAG,CAACI,eAAe,CAACO,aAAa,CAAC,CAAC,yBAAAG,QAAA,CAAAM,IAAA,MAAAC,OAAA,GAE3C,MAAO,SAAU,CAAA3B,mBAAmBA,CAAC4B,MAAM,SAAA9B,mBAAA,GAAAoB,IAAA,UAAAW,qBAAAC,SAAA,iBAAAA,SAAA,CAAAT,IAAA,CAAAS,SAAA,CAAAR,IAAA,SACzCS,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACK,EAAE,CAAE,OAAO,CAAC,CAACH,SAAA,CAAAR,IAAA,GAChC,MAAM,CAAAd,kBAAkB,CAACoB,MAAM,CAACK,EAAE,CAAC,QAAAH,SAAA,CAAAR,IAAA,GACnC,MAAM,CAAAhB,GAAG,CAACK,gBAAgB,CAACiB,MAAM,CAACK,EAAE,CAAC,CAAC,yBAAAH,SAAA,CAAAJ,IAAA,MAAA7B,QAAA,GAExC,MAAO,SAAU,CAAAK,WAAWA,CAAC0B,MAAM,SAAA9B,mBAAA,GAAAoB,IAAA,UAAAgB,aAAAC,SAAA,iBAAAA,SAAA,CAAAd,IAAA,CAAAc,SAAA,CAAAb,IAAA,SAAAa,SAAA,CAAAb,IAAA,GACjC,MAAM,CAAAb,cAAc,CAACmB,MAAM,CAACQ,YAAY,CAAC,QAAAD,SAAA,CAAAb,IAAA,GACzC,MAAM,CAAAhB,GAAG,CAACM,cAAc,CAACgB,MAAM,CAACQ,YAAY,CAAC,CAAC,yBAAAD,SAAA,CAAAT,IAAA,MAAAzB,QAAA,GAEhD,QAAU,CAAAG,SAASA,CAAA,SAAAN,mBAAA,GAAAoB,IAAA,UAAAmB,WAAAC,SAAA,iBAAAA,SAAA,CAAAjB,IAAA,CAAAiB,SAAA,CAAAhB,IAAA,SAAAgB,SAAA,CAAAhB,IAAA,GACjB,MAAM,CAAAf,SAAS,CAAC,qBAAqB,CAAEX,eAAe,CAAC,QAAA0C,SAAA,CAAAhB,IAAA,GACvD,MAAM,CAAAf,SAAS,CAACO,SAAS,CAAElB,eAAe,CAAC,QAAA0C,SAAA,CAAAhB,IAAA,GAC3C,MAAM,CAAAf,SAAS,CAACM,YAAY,CAAEb,mBAAmB,CAAC,QAAAsC,SAAA,CAAAhB,IAAA,GAClD,MAAM,CAAAf,SAAS,CAACQ,YAAY,CAAEb,WAAW,CAAC,yBAAAoC,SAAA,CAAAZ,IAAA,MAAAvB,QAAA,GAE5C,cAAe,CAAAC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}